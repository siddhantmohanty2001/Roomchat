{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/Infobar/Infobar.js","components/Input/Input.js","components/Message/Message.js","components/Messages/Messages.js","App.js","index.js"],"names":["socket","Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","e","target","value","onClick","preventDefault","to","Infobar","href","Input","message","setMessage","sendMessage","onKeyPress","event","key","Message","user","text","isSentByCurrentUser","trimmedname","trim","toLowerCase","console","log","Messages","messages","map","i","Chat","location","setMessages","ENDPOINT","useEffect","data","queryString","parse","search","io","emit","on","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1d13a7e9.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport queryString from 'query-string' //to retrieve parameters \r\nimport io from 'socket.io-client'\r\nimport Infobar from '../Infobar/Infobar'\r\nimport Input from '../Input/Input'\r\n\r\nimport './Chat.css'\r\nimport Messages from '../Messages/Messages'\r\n\r\nlet socket;\r\n\r\nconst Chat = ({location}) => { //locaton is the path of chat\r\n    const [name,setName]=useState('');\r\n    const [room,setRoom]=useState('');\r\n    const [messages,setMessages]=useState([]);\r\n    const [message,setMessage]=useState('')\r\n    const ENDPOINT='https://roomchat-app-backend.herokuapp.com/';\r\n    useEffect(() => {\r\n\r\n        const data=queryString.parse(location.search);\r\n        socket =io(ENDPOINT)\r\n        console.log(socket);\r\n\r\n        const {name,room}=data;\r\n        setName(name);\r\n        setRoom(room);\r\n\r\n        socket.emit('join',{name,room},()=>{\r\n            \r\n        })\r\n\r\n       \r\n        // return  ()=>{  //cleanup function used for unmounting \r\n        //                //called after user disconnects\r\n        //         socket.emit('disconnect');\r\n        //         socket.off();\r\n\r\n        // }\r\n    },[ENDPOINT,location.search]) //socket function called when ENDPOINT and location parameters change\r\n\r\n    useEffect(()=>{\r\n        socket.on('message',(message)=>{  //receives admin message\r\n            setMessages(messages=>[...messages,message])\r\n\r\n        }) //called everytime there is change in messages array\r\n    },[])\r\n\r\n    //function to send message\r\n\r\n    const sendMessage =(e)=>{\r\n\r\n        e.preventDefault();\r\n        if(message){\r\n            socket.emit('sendMessage',message,()=>setMessage(''))\r\n        }\r\n    }\r\n\r\n    console.log(message,messages);\r\n    return (\r\n        <div className=\"outerContainer\">\r\n            <div className=\"container\">\r\n                <Infobar room={room}/>\r\n                <Messages messages={messages} name={name}/>\r\n                <Input message={message} setMessage={setMessage} sendMessage={sendMessage}/>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n\r\n//Cleanup used because we have to do something after user disconnects","import React,{useState} from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport '../Join/Join.css'\r\n\r\nconst Join = () => {\r\n    const [name,setName] =useState('');\r\n    const [room,setRoom] =useState('');\r\n    return (\r\n        <div className=\"joinOuterContainer\">\r\n            <div className=\"joinInnerContainer\">\r\n                <div>\r\n                    <input placeholder=\"Name\" className=\"joinInput\" type=\"text\" onChange={(e)=>{setName(e.target.value)}}/>\r\n\r\n                </div>\r\n                <div>\r\n                    <input placeholder=\"Room\" className=\"joinInput\" type=\"text\" onChange={(e)=>{setRoom(e.target.value)}}/>\r\n                </div>\r\n                <Link onClick={e => (!name || !room) ? e.preventDefault() : null} to={`/Chat?name=${name}&room=${room}`}>\r\n                <button type=\"submit\" className=\"button mt-20\" >Sign In</button>\r\n                </Link>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Join\r\n","import React from 'react'\r\nimport './Infobar.css'\r\nimport CloseOutlinedIcon from '@mui/icons-material/CloseOutlined';\r\nimport OnlinePredictionOutlinedIcon from '@mui/icons-material/OnlinePredictionOutlined';\r\n\r\nconst Infobar = ({room}) => {\r\n    return (\r\n        <div className=\"infoBar\">\r\n            <div className=\"leftInnerContainer\">\r\n               <OnlinePredictionOutlinedIcon className=\"onlineIcon\"/>\r\n                <h3>{room}</h3>\r\n\r\n            </div>\r\n            <div className=\"rightInnerContainer\">\r\n                <a href=\"/Roomchat/\"><CloseOutlinedIcon/></a>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Infobar\r\n","import React from 'react'\r\nimport './Input.css'\r\nconst Input = ({message,setMessage,sendMessage}) => {\r\n    return (\r\n        <form className=\"form\">\r\n            <input type=\"text\" className=\"input\" placeholder=\"Type amessage...\"  value={message} onChange={(e) =>setMessage(e.target.value)}  onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}/>\r\n            <button className=\"sendButton\" onClick={(e) =>{sendMessage(e)}}>Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Input\r\n","import React from 'react'\r\nimport './Message.css'\r\n\r\nconst Message = ({message:{user,text},name}) => {\r\n    let isSentByCurrentUser = false;\r\n\r\n    const trimmedname = user.trim().toLowerCase();\r\n    console.log(trimmedname);\r\n\r\n    if(name===trimmedname){\r\n        isSentByCurrentUser = true;\r\n    }\r\n    return (\r\n        isSentByCurrentUser\r\n        ? (\r\n            <div className=\"messageContainer justifyEnd\">\r\n                <p className=\"sentText pr-10\">{trimmedname}</p>\r\n                <div className=\"messageBox backgroundBlue\">\r\n                    <p className=\"messageText colorWhite\">{text}</p>\r\n                </div>\r\n            </div>\r\n        )\r\n        :(\r\n            <div className=\"messageContainer justifyStart\">\r\n                <div className=\"messageBox backgroundLight\">\r\n                    <p className=\"messageText colorDark\">{text}</p>\r\n                </div>\r\n                <p className=\"sentText pl-10\">{trimmedname}</p>\r\n            </div>\r\n        )\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport Message from '../Message/Message'\r\n\r\nimport './Messages.css'\r\n\r\nconst Messages = ({messages,name}) => {\r\n    \r\n    return (\r\n        <div className=\"messages\">\r\n            {\r\n                messages.map((message,i)=><div key={i}><Message message={message} name={name}/></div>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages\r\n","import{BrowserRouter as Router,Route} from 'react-router-dom'\nimport Join from './components/Join/Join';\nimport Chat from './components/Chat/Chat';\nfunction App() {\n  return (\n    <div >\n     \n     <Router>\n       <Route path=\"/Chat\" component={Chat}/>\n        <Route path=\"/Roomchat/\" exact component={Join}/>\n     </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}